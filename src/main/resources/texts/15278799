Webで使えるテクニック！Webで困ったときのﾒﾓ帳PHP CSS デザイン Ajax Flash Flex AIR Java SEO/SEM などのWebのテクニックをﾒﾓっちゃいます。困ったときにこのﾒﾓがきっと役に立つと思う。クリエイター/エンジニアAdobe AIRで3秒ごとにオンラインかオフラインかチェックする方法Adobe AIR
Adobe AIRをFlashで作成していてオンラインかオフライン か常に監視させて確認さる処理に使ったときのメモ ネットワーク接続の監視を参考にすると分かりやすいです。 コンポーネント AIR ServiceMonitor の ServiceMonitorShim.swc をステージに配置して import air.net.*; をする必要があります。 CS4の場合は、ServiceMonitorShim.swc の設定が微妙に違います。 ファイル－パブリッシュ設定 -> Flashパネル -> ActionScript3.0設定 からライブラリパスを選択して、servicemoniter.swcを選択。 //オンラインかオフラインかを判別　常時監視 function onURLStatusCheckTimer(e:StatusEvent):void { //オンライン true でオンライン falseでオフライン trace(e.target.available); } //オンラインかオフラインかを判別 常時監視 function networkMonitorCheckTimer(e:TimerEvent):void { var request:URLRequest = new URLRequest("http://ameblo.jp/linking/"); var monitor:URLMonitor = new URLMonitor(request); monitor.addEventListener(StatusEvent.STATUS, onURLStatusCheckTimer); monitor.start(); } //タイマー3秒に一回ずつ実行 function netCheckTimerStart():void { var timer:Timer = new Timer(3000); timer.addEventListener(TimerEvent.TIMER, networkMonitorCheckTimer); timer.start(); } オンラインかオフラインかを常に監視させる方法でなく ネットワークの監視変更があった場合に実行させる ようにすることもできます。 AIRでは、ネットワークの確認を使う機会が多い のではないかなぁと思います。