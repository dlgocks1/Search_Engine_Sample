■ C++ 用ソースコードフォーマッタ Uncrustify 
私が Perl が好きな理由の一つとして perltidy が存在しているという点がある。
perltidy のソースコード整形は柔軟にカスタマイズができて、自分の好みの整形設定を作っておける。
このツールおかげで後で整形できるので、荒々しくコードを書いてガンガンリファクタリングしていくことできる。
久しぶりに C++ の開発をするにあたって、C++ の同様のツールを探してみた。
perltidy のように長い式の折り返しを適切に調整してくれる整形ツールはあまり見つからない。いくつか試したところ Uncrustify にたどりついた。
http://uncrustify.sourceforge.net/
@ 設定
uncrustify -c /dev/null --update-config-with-doc -o ~/.uncrustify.cfg
するとデフォルトの設定が書き込まれた設定ファイルができる。
これを好みの設定に書き換えていく。
@ ソースコード整形する
uncrustify source.cpp
とすると整形されたソースコードが source.cpp.uncrustify に出力される。
uncrustify --replace source.cpp
とすると source.cpp 自体を整形されたソースコードで置き換えてくれる。
@ Emacs からの呼び出し
perltidy の時の設定(記事)で OK。
shell-command-on-region では
uncrustify -l CPP -q
を実行するようにする。Uncrustify は標準入力からソースコードを渡す際にはどのプログラミング言語が指定してあげる必要がある。
好みの設定は現在模索中。
長い式の中の、引数なしの関数呼び出しの開き括弧と閉じ括弧の間で折り返されることがあってそれが気持ち悪いのだが、それ以外は好みの設定になりつつある。
もうちょっと設定いじってみて確定するつもり。
Perl プリティプリンタの定番 perltidy (2006-04-23)スクラッチから書き直したくなるプログラマは、書き直したプログラムもまたスク... (2008-06-14)Linux で使えるデスクトップ検索ツール Beagle でローカルファイ... (2006-08-08)テスト駆動開発入門 (2004-08-02)SCons は GNU Autotools のかわりになるか (2005-04-20) 
■ RHODIA No10 用に Walkie Pen 
PORTER SMOKEY バッグ (コレ)に入れている RHODIA No10、No11 より場所を取らなくなったのでなかなか良い。
ただ気にいったミニペン、しかもかなり短いやつというのがなかなかみつからない。
今はバッグにペンポッドを下げている。携帯性はいいのだけれど片手で戻すのがちょっと難儀なのと、RHODIA No10 だけちょっと持って移動する時にバッグにつけているペンポッドをもっていけないというデメリットがあった。
今日丸善に行く用事があったのでついでにミニペンを物色してきた。今日買ってきたのは Walkie Pen。BOLD の方をチョイス。
全長 83mm のボールペンで、ちょっと高いけれど安っぽくなくて良い。
理想はノック式だが、これは回転式。すぐに書くにはちょっとまどろっこしいがキャップ式よりは移動中に使いやすいだろう。
回転は結構重みがあり誤ってペン先が出てしまうことはなさそう。
適合替え芯は
パイロット BRF-8F
三菱鉛筆 SE-7
プラチナ万年筆 BSP-100S
トンボ鉛筆 BR-VS
セーラー万年筆 18-0103
「等市販のものがご使用できます。」と書かれており、いわゆる 4C 互換リフィルで良いようだ。
RRHODIA メモカバー #10 につけてみた。
クリップが固めなので革のペンホルダーを挟むのはちょっとキツめ。
いつもの癖でペンホルダーの外側につけて写真を撮ったしまったが、ペンホルダーの内側にいれるとカバーのサイズとぴったり。
これでブラブラさせているペンポッド外してもよさそう。
満足満足。
[ 文房具 ] [ 製品レポート ]