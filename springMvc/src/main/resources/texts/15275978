プログラミング/初心者向け/チュートリアル/段階的学習/テトリス風落ちものゲームを作れを参考に DXRuby でテトリス風ゲームを作る――予定でしたが、今回はちょっと違います。 
本ページにはソースコードの一部しか載っていないので、各リンクよりソースをダウンロードしてご利用ください。
制作時の環境
WindowsXP sp3
Ruby 1.9.1p129 (2009-05-12 revision 23412) [i386-mswin32]
DXRuby 1.0.6
Level 0
Level 0
今回の段階的学習で示された作成手順が自分に合わなかったので、それには従わずに自力で作成しました。
ソースコードと使用する画像をまとめた ZIP ファイルはこちらです。
ソースコードの解説
特に目新しいことはやっていないのですが、以下の一点のみ注意が必要なので取り上げておきます。
# ピースの作成
def create_piece
$now = Marshal.load(Marshal.dump($next))
$next = {
:piece => Marshal.load(Marshal.dump(SHAPE[rand(7)])),
:x => 4,
:y => 0
}
end
配列の複製をする場合、単純に行うと各要素までは複製してくれません。この場合、Marshal モジュールを使うようにしておきます。