OS X
Trend Seminar 
Flash MX 2004で変わるスクリプティング
1. メニューとインターフェイス 
よく使われるフレーム操作のコマンドが、[編集]と[挿入]、[修正]の各メニューに離散してしまった(図001)。ショートカットキーはMXと変わらないので、慣れたユーザなら問題ない。
図001■離散したフレーム操作のコマンド 
[フレームの削除]は[編集]メニュー
[フレーム]や[キーフレーム]、[空白キーフレーム]挿入は[挿入]メニュー
[キーフレームに変換]と[空白キーフレームに変換]は[修正]メニュー。[キーフレームを削除]はなぜ[フレームの削除]と一緒でない?
「シーン」や「シンボルの編集」を切替える「編集バー」の位置が、Flash 5と同じタイムライン上部に戻ってしまった(図002)。
図002■タイムライン上部に戻った編集バー 
しかし、編集バーを[command](Windowsは[Alt])+[shift]ダブルクリックで、タイムライン下に移動できる(図003)。
図003■タイムライン下に移動した編集バー 
また、フレームやインスタンスを選択して表示するコンテクスト/ショートカットメニューから、[アクション]がなくなった(図004)。ショートカットは[F9](ただし、Pantherでは注意が必要)、フレームの場合は[option]/[Alt]+ダブルクリックでもよい。
図004■コンテクスト/ショートカットメニューから[アクション]が消えた 
また、オンラインヘルプがアプリケーションに内臓された(HTMLではない)。
2. ビヘイビア 
スクリプトのライブラリ。目的の処理を選択して、パラメータを設定する(図005)。
図005■ビヘイビア[Web]>[Webページへ移動]を選択してパラメータを設定 
2. MovieClipLoaderクラス 
外部SWFまたはJPEGファイルのロード中の経過を確認したり、読込み待ちの処理ができる。
MXまでは、onClipEvent (data)ハンドラで、ロード済みバイト数をチェックして読込みを待つのが普通だった(スクリプト1。なお、[MovieClip.loadMovieで外部ファイルを読込む]参照)。
スクリプト1■MXまでの外部ファイルロード待ち処理 
// MovieClip: 外部ファイルを読込むターゲット 
// MovieClipアクション 
onClipEvent (data) { 
if (this.getBytesTotal()>0 && this.getBytesLoaded()>=this.getBytesTotal())
{ 
// ロード完了時の処理 
} 
}
スクリプト2■MX 2004のMovieClipLoaderを使用した外部ファイルロード待ち処理 
*MovieClipLoaderインスタンスに直接イベントハンドラを定義するスタイルは、サポートされないこととなりました。そのため、リスナーオブジェクトを作成するスタイルに修正しました。(2004.6.23) 
// タイムライン: ターゲットのMovieClipインスタンスmy_mcを配置 
// フレームアクション 
my_mcl = new MovieClipLoader();  // MovieClipLoaderインスタンスの生成 
oListener = new Object();  // リスナーオブジェクトの作成 
oListener.onLoadInit = function() { 
// ロードしたSWFの第1フレームでの初期化処理 
}; 
my_mcl.addListener(oListener);  // リスナーに登録 
// 外部SWFファイル"test.swf"をインスタンスmy_mcにロード 
my_mcl.loadClip("test.swf", my_mc);