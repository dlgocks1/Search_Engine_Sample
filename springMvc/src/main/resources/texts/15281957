日記, 技術メモ | 22:03フィールド上に複数のユニットがいる状態をイメージして，とりあえず適当に六角柱を並べてみることにした．ちなみにスクリーンショットのとおり，家の開発環境がvistaになった．世の中の開発者の標準はやはりXPなんだろうか・・・とか思いつつ．柱を書いている部分だけ抜粋するとこんな感じ．コード汚い．
for(int i = 0; i 流れとしては，glPushMatrix → キャラの位置にあわせて座標変換(向きのあるキャラなら回転も行う) → 1ユニット描画 → glPopMatrix という感じでよさげ．たぶん．六角柱は，gluCylinderで側面を描き，gluDiskで蓋をした．いわゆる便利関数を使ってみた訳だが，ここが悩みどころだ．gluCylinder(obj, 1.2, 1.0, 3.0,6,1);のような感じで，5番目の引数を6にしてやることでポリゴン的には側面が6面になっているのだが，おそらく頂点の法線ベクトルを円柱として与えているため，光源を設定すると，側面は丸みを帯びた円柱っぽく見える．"Cylinder"といっている訳だからそれで正しいのだが，見え方を細かく制御したければ，やはり自前で頂点を指定してポリゴンを描く必要があるようだ．・・・それにしても適当に描いてたら座標系が訳分からなくなってきた．「手前方向がz軸で正の方向」というのを真に受けて，地形をxz平面に描いてしまったが，普通にxy平面に描いてカメラを工夫すればよかった．もはやどっちが上なのかよく分からない．ちゃんと考えて作り直すか・・・