280ドルで買った HP mini 1000 にためしにインストールしてみた Jolicloud が予想を遙かに超えて、フツーに使い物になるので、本気で日本語 HP Mi Edition からの乗り換えることにしました。 
日常使う上で解決しなければならなかった問題点がひとつだけありまして、それは e-mobile のインターネット接続がうまくつながらなかったこと。 
e-mobile のドングル（私が今使っているのは D21HW）を差し込むと、自動的に認識して Network Manager が立ち上がって、モバイルネットワークの接続先として e-mobile も選べる状態だったもので「こりゃ、すごい。そのままつながるじゃん！」と思ったらぬか喜び。「GSMの接続が切れた」という内容のエラーが出てきて全然つながらないのです。「なんで GSM なんだよ」と思っていたら、そこに解決のヒントがありました。 
同じ苦労をした先達が、そのものズバリの解決法を残してくれていました。感謝。 
ちょっと解説すると、Ubuntu 9.04 の Network Manager ではモバイルブロードバンドの USB モデムが接続されたときに、そのデバイスが CDMA なのか GSM なのかといったことを /lib/udev/nm-modem-probe というプログラムが識別する仕組みになっているのだけれど、こいつが e-mobile のモデムを CDMA じゃなくて GSM だと間違って識別するので Network Manager が GSM 用のモデムコマンドで接続しようとしてしまい、うまく動かないというのが原因。 
nm-modem-probe のプログラムをソースから修正してコンパイルし直すのが正攻法なんだけど、そこをごまかすハックが上の記事。 
nm-modem-probe は、識別したモデムの種類を示す文字列を標準出力にテキストで吐き出すので、正解の文字列を echo するシェルスクリプトにすり替えてやればだまされて動作するようになる、というわけ。他のモデムを使い分ける人はこれじゃ困るけど、幸い私の場合は e-mobile 以外の USB モデムを使う予定はないので、この解決法で十分幸せです。 
#!/bin/sh 
echo "ID_NM_MODEM_IS707_A=1" 
echo "ID_NM_MODEM_PROBED=1" 
というスクリプトを nm-modem-probe という名前で保存して、chmod a+x で実行可能にしてあげる。元のプログラムは念のため別の名前で保存しておきましょう。 
こうやってから e-mobile のモデムを差し込むと、Network Manager に「モバイルブロードバンド (Huawei Technologies なんたらかんたら)」という選択肢が出ているはずなので、「接続の編集...」で e-mobile の電話番号やら、ユーザー名/パスワード (em/em) やらを設定してやればOK。